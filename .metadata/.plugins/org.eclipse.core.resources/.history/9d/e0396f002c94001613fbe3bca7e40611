var request = require("request"),
assert = require('assert'),
helloWorld = require("../app.js"),
base_url = "http://localhost:3000/";

describe("Get Home Page", function() {
	describe("GET /", function() {
		it("returns status code 200", function(done) {
			request.get(base_url, function(error, response, body) {
				assert.equal(200, response.statusCode);
				done();
			});
		});
	});
});

describe("Get Login session", function() {
	describe("POST /getLoginSession", function() {
		it("returns status code 200", function(done) {
			request.post(base_url+"getLoginSessionValues", function(error, response, body) {
				assert.equal(200, response.statusCode);
				done();
			});
		});
	});
});


describe("Get Home Page", function() {
	it('should respond with redirect on post', function(done) {
	    request
	      .post(base_url+'Login')
	      .send({"username":"pb","password":a})
	      .end(function(err, res) {
	    	  assert.equal(200, response.statusCode);
	        done();
	      });
	  });	
});